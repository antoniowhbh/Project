{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import'./SignIn.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SignIn(){const navigate=useNavigate();const location=useLocation();const{from}=location.state||{from:{pathname:'/'}};// Default to home if no redirect path\nconst[formData,setFormData]=useState({username:'',password:''});const[errorMessage,setErrorMessage]=useState('');const handleChange=e=>{const{id,value}=e.target;setFormData({...formData,[id]:value});};const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('http://localhost:5000/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData),credentials:'include'});if(response.ok){const data=await response.json();if(data.status==='success'){navigate(from);// Navigate to the page they were trying to access\n}else{setErrorMessage(data.message);}}else{console.error('HTTP error:',response.status);setErrorMessage('Login failed due to server error');}}catch(error){console.error('Error during login:',error);setErrorMessage('Login failed due to network error');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"hero-container\",children:[/*#__PURE__*/_jsx(\"video\",{src:\"/videos/sign-in.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"h1\",{children:\"Uniguide\"}),/*#__PURE__*/_jsx(\"p\",{children:\"The intelligent academic advisor\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"sign-in-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",placeholder:\"Username\",value:formData.username,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn--primary btn--large\",children:\"Sign In\"})]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage}),/*#__PURE__*/_jsxs(\"p\",{className:\"sign-up-link\",children:[\"Not a user? \",/*#__PURE__*/_jsx(\"a\",{href:\"/sign-up\",children:\"Sign up here\"})]})]});}export default SignIn;","map":{"version":3,"names":["React","useState","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","SignIn","navigate","location","from","state","pathname","formData","setFormData","username","password","errorMessage","setErrorMessage","handleChange","e","id","value","target","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","credentials","ok","data","json","status","message","console","error","className","children","src","autoPlay","loop","muted","onSubmit","type","placeholder","onChange","required","href"],"sources":["/Users/antoniowehbe/PycharmProjects/pythonProject1/src/components/pages/Sign In/SignIn.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport './SignIn.css';\n\nfunction SignIn() {\n    const navigate = useNavigate();\n    const location = useLocation();\n    const { from } = location.state || { from: { pathname: '/' } }; // Default to home if no redirect path\n    const [formData, setFormData] = useState({ username: '', password: '' });\n    const [errorMessage, setErrorMessage] = useState('');\n  \n    const handleChange = (e) => {\n      const { id, value } = e.target;\n      setFormData({ ...formData, [id]: value });\n    };\n  \n    const handleSubmit = async (e) => {\n      e.preventDefault();\n      try {\n        const response = await fetch('http://localhost:5000/auth/login', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(formData),\n          credentials: 'include'\n        });\n  \n        if (response.ok) {\n          const data = await response.json();\n          if (data.status === 'success') {\n            navigate(from); // Navigate to the page they were trying to access\n          } else {\n            setErrorMessage(data.message);\n          }\n        } else {\n          console.error('HTTP error:', response.status);\n          setErrorMessage('Login failed due to server error');\n        }\n      } catch (error) {\n        console.error('Error during login:', error);\n        setErrorMessage('Login failed due to network error');\n      }\n    };\n    return (\n        <div className='hero-container'>\n            <video src='/videos/sign-in.mp4' autoPlay loop muted />\n            <h1>Uniguide</h1>\n            <p>The intelligent academic advisor</p>\n            <form className='sign-in-form' onSubmit={handleSubmit}>\n                <input \n                    type='text' \n                    id='username' \n                    placeholder='Username' \n                    value={formData.username} \n                    onChange={handleChange} \n                    required \n                />\n                <input \n                    type='password' \n                    id='password' \n                    placeholder='Password' \n                    value={formData.password} \n                    onChange={handleChange} \n                    required \n                />\n                <button type='submit' className='btn btn--primary btn--large'>\n                    Sign In\n                </button>\n            </form>\n            {errorMessage && <p className='error-message'>{errorMessage}</p>}\n            <p className='sign-up-link'>\n                Not a user? <a href='/sign-up'>Sign up here</a>\n            </p>\n        </div>\n    );\n}\n\nexport default SignIn;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}